<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>St√§dteverwaltung</title>
  <link rel="stylesheet" href="/style.css" />
</head>
<body>
  <main>
    <h1>St√§dteverwaltung</h1>

 <% if (user) { %>
  <p>Hallo, <%= user.email %>! <a href="/logout">Logout</a></p>
<% } else { %>
  <p><a href="/login">Login</a></p>
<% } %>

    <section>
      <h2>Neue Stadt hinzuf√ºgen</h2>
      <form action="/add" method="POST">
        <input type="text" name="name" placeholder="Stadtname" required />
        <input type="number" name="population" placeholder="Bev√∂lkerung" min="0" max="1000000000" required />
        <button type="submit">Hinzuf√ºgen</button>
      </form>
    </section>

    <section>
      <h2>St√§dte Liste</h2>
      <ul>
        <% if (cities.length === 0) { %>
          <li>Keine St√§dte vorhanden.</li>
        <% } else { %>
          <% cities.forEach(city => { %>
            <li>
              <strong><%= city.name %></strong> ‚Äì Bev√∂lkerung: <%= city.population %>
              <form action="/delete/<%= city.id %>" method="POST" style="display:inline;">
                <button type="submit" class="delete-btn">üóëÔ∏è L√∂schen</button>
              </form>
              <a href="/edit/<%= city.id %>">Bearbeiten</a>
            </li>
          <% }) %>
        <% } %>
      </ul>
    </section>
  </main>
</body>
</html>