<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zusatzaufgabe Arrays</title>
    <link rel="stylesheet" href="../css datei/common.css">
    <script src="/Kurs/common.js"></script>
</head>
<body>
<script>
    printH(1, "Zusatzaufgabe Arrays");
    printHr();
    printH(3, "Aufsteigend und absteigen Zahlen sortieren");

    let numbers1 = [5, 3, 8, 1, 2];
    numbers1.sort((a, b) => a - b);
    printLn("Aufsteigend sortierte Zahlen: " + numbers1);
    numbers1.sort((a, b) => b - a);
    printLn("Absteigend sortierte Zahlen: " + numbers1);

    printHr();
    printH(3, "Aufsteigend und absteigend texte nach länge sortieren");

    let texts = ["Zebra", "Apfel", "Banane", "Kiwi", "Erdbeere", "Ananas", "Mango", "Papaya", "Melone", "Traube"];
    texts.sort((a, b) => a.length - b.length);
    printLn("Aufsteigend sortierte Texte nach Länge: " + texts);
    texts.sort((a, b) => b.length - a.length);
    printLn("Absteigend sortierte Texte nach Länge: " + texts);

    printHr();
    printH(3, "texte nach alphabetisch sortieren");

    let texts2 = ["Zebra", "Apfel", "Banane", "Ägypt", "Kiwi", "Erdbeere", "Ananas", "Mango", "Papaya", "Melone", "Traube"];
const comparAlphabetically = new Intl.Collator('de-DE', { sensitivity: 'base' }).compare;
    texts2.sort(comparAlphabetically);
    printLn("Alphabetisch sortierte Texte: " + texts2);

    printHr();
    printH(3, "bubble sort wie viele schritte macht es und wie kann man es verwenden");


    printH(4, "Bubble Sort");
    function bubbleSort(arr) {
            const n = arr.length;
            for (let i = 0; i < n - 1; i++) { // Äußere Schleife: Anzahl der Durchläufe
                for (let j = 0; j < n - i - 1; j++) { // Innere Schleife: Vergleiche benachbarte Elemente
                    if (arr[j] > arr[j + 1]) { // Wenn das linke Element größer ist, tausche
                        [arr[j], arr[j + 1]] = [arr[j + 1], arr[j]]; // Swap
                    }
                }
            }
            return arr; // Rückgabe des sortierten Arrays
        }
    const randomResult = [64, 34, 25, 12, 22, 11, 90];
    const bubbleSorted = bubbleSort([...randomResult]); // Copy the array to avoid modifying the original
    printLn(`bubbleSort(${randomResult}): ${bubbleSorted}`);
    printLn("Anzahl der Schritte: " + (randomResult.length * (randomResult.length - 1) / 2));
    printHr();

    printH(3, "Bubble Sort mit Optimierung");
    function bubbleSortOptimized(arr) {
    let n = arr.length;
    let steps = 0;
    let swapped;
    do {
        swapped = false;
        for (let i = 0; i < n - 1; i++) {
            steps++;
            console.log(`Step ${steps}: Comparing ${arr[i]} and ${arr[i + 1]}`);
            if (arr[i] > arr[i + 1]) {
                [arr[i], arr[i + 1]] = [arr[i + 1], arr[i]]; // Swap
                swapped = true;
            }
        }
        n--; // Reduziere den Bereich, der sortiert werden muss
    } while (swapped); // Beende, wenn keine Vertauschungen mehr stattfinden
    return { sortedArray: arr, steps: steps };
}
    let arrayToSortV1 = [64, 34, 25, 12, 22, 11, 90];
    let { sortedArray: sortedArrayV1, steps: stepsV1 } = bubbleSortOptimized(arrayToSortV1);
    printLn("Sorted array V1: " + sortedArrayV1);
    printLn("Number of steps V1: " + stepsV1);
    printHr();

    printH(4, "Cocktail Shaker Sort");
    function cocktailShakerSort(arr) {
    let n = arr.length;
    let steps = 0;
    let swapped = true;
    let start = 0;
    let end = n - 1;

    while (swapped) {
        swapped = false;

        // Von links nach rechts sortieren
        for (let i = start; i < end; i++) {
            steps++;
            console.log(`Step ${steps}: Comparing ${arr[i]} and ${arr[i + 1]}`);
            if (arr[i] > arr[i + 1]) {
                [arr[i], arr[i + 1]] = [arr[i + 1], arr[i]]; // Swap
                swapped = true;
            }
        }
        end--;

        // Von rechts nach links sortieren
        for (let i = end; i > start; i--) {
            steps++;
            console.log(`Step ${steps}: Comparing ${arr[i]} and ${arr[i - 1]}`);
            if (arr[i] < arr[i - 1]) {
                [arr[i], arr[i - 1]] = [arr[i - 1], arr[i]]; // Swap
                swapped = true;
            }
        }
        start++;
    }
    return { sortedArray: arr, steps: steps };
}
    let arrayToSort = [64, 34, 25, 12, 22, 11, 90];
    let { sortedArray, steps } = cocktailShakerSort(arrayToSort);
    printLn("Sorted array: " + sortedArray);
    printLn("Number of steps: " + steps);
    printHr();

    printH(4, "Bubble Sort mit letzten Tausch");
    function bubbleSortWithLastSwap(arr) {
    let n = arr.length;
    let steps = 0;
    while (n > 0) {
        let lastSwap = 0;
        for (let i = 0; i < n - 1; i++) {
            steps++;
            console.log(`Step ${steps}: Comparing ${arr[i]} and ${arr[i + 1]}`);
            if (arr[i] > arr[i + 1]) {
                [arr[i], arr[i + 1]] = [arr[i + 1], arr[i]]; // Swap
                lastSwap = i + 1; // Markiere den Index des letzten Tauschs
            }
        }
        n = lastSwap; // Reduziere den Bereich auf den letzten Tausch
    }
    return { sortedArray: arr, steps: steps };
}
    let arrayToSortV2 = [64, 34, 25, 12, 22, 11, 90];
    let { sortedArray: sortedArrayV2, steps: stepsV2 } = bubbleSortWithLastSwap(arrayToSortV2);
    printLn("Sorted array V2: " + sortedArrayV2);
    printLn("Number of steps V2: " + stepsV2);

    printHr();

</script>
</body>
</html>