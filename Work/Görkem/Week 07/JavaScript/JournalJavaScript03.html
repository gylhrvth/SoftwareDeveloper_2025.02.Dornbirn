<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../../../../Kurs/common.css">
    <link rel="stylesheet" href="../../Week 04/JavaScript/mainstyle.css">
    <script src="../../../../Kurs/common.js" defer></script>
    <title>JavaScript Async</title>
</head>
<body>

    <h1>JavaScript</h1>
    <h2>Mittwoch, 09. April 2025</h2>

    <h3 class="textColor01">JavaScript Async-Function</h3>

<ul>
    <li class="textColor02">
        <span class="underline">Warum starten Funktionen parallel zueinander, anstatt nacheinander aufgerufen werden?</span>
        <p>JavaScript ist <b>einzel-threaded, </b>, d.h. es fÃ¼hrt immer nur eine Sache zur gleichen Zeit aus. Trotzdem kÃ¶nnen gewisse Aufgaben (z.B. API-Aufrufe oder setTimeout) asynchron gestartet werden, damit JavaScript <b>nicht hÃ¤ngen bleibt</b> und andere Dinge schon mal weiterbearbeiten kann.</p>
        <p><strong>ğŸ•’asynchrone Funktion</strong></p>
        <p>JavaScript:</p>
        <div class="code-box">
            <code>
                function task1() {
                    console.log("Start Task 1");
                    setTimeout(() => {
                      console.log("End Task 1");
                    }, 2000);
                  }
                  
                  function task2() {
                    console.log("Start Task 2");
                  }
                  
                  task1();
                  task2();
            </code>
        </div>
        <p>ğŸ‘‰Ausgabe:</p>
        <div class="code-box">
            <code>
                Start Task 1
                Start Task 2
                End Task 1
            </code>
        </div>
        <p>â†’ <b>Hier wird setTimeout in den Hintergrund verschoben</b>, und Task 2 startet sofort danach.</p>
    </li>
    <br>
    <br>

    <li class="textColor02">
        <span class="underline">Welche praktische Use Cases kennst du davon?</span>
        <p>Asynchrone Funktionen sind <b>Ã¼berall</b> in der modernen Webentwicklung zu finden - ohne sie wÃ¼rde kaum eine App wirklich â€funktionierenâ€œ oder reaktionsfÃ¤hig bleiben. Hier sind ein paar <b>praxisnahe Use Cases</b>, die du bestimmt schon mal gesehen oder sogar verwendet hast:</p>
        <p><strong>ğŸ“¡1. Daten von APIs laden</strong></p>
        <p><b>Use Case:</b> Du baust eine Wetter-App und willst dieaktuelle Temperatur von einem Wetterdienst holen.</p>
        <div class="code-box">
            <code>
                async function fetchWeather() {
                    const response = await fetch("https://api.weatherapi.com/data");
                    const data = await response.json();
                    console.log("Wetterdaten:", data);
                  }
            </code>
        </div>
        <p><b>Warum async?</b> Weil der Netzwerk-Request 1-2 Sekunden dauern kann. In der Zeit soll die App nicht einfrieren</p>
    </li>
    <br>
    <br>

    <li class="textColor02">
        <span class="underline">Was ist ein Callback (Funktion)?</span>
        <p>Ein <b>Callback</b> ist einfach eine <b>Funktion</b>, die <b>als Argument</b> an eine andere Funktion Ã¼bergeben wird - und <b>dann spÃ¤ter</b> aufgerufen wird.</p>
        <p><b>ğŸ“Œ Also: â€Ich geb dir eine Funktion mit, die du aufrufen sollst, wenn du fertig bist.â€œ</b></p>
        <p>Einfaches Beispiel: JavaScript</p>
        <div class="code-box">
            <code>
                function greeting(name) {
                    console.log("Hallo, " + name + "!");
                  }
                  
                  function processUserInput(callback) {
                    const name = "Anna";
                    callback(name);  // ğŸ‘ˆ Hier wird der Callback aufgerufen
                  }
                  
                  processUserInput(greeting);
            </code>
        </div>
        <p>ğŸ’¡ErklÃ¤rung:</p>
        <ul>
            <li>greeting ist die Callback-Funktion.</li>
            <li>processUserInput ruft sie <b>spÃ¤ter</b> auf - in diesem Fall mit dem Namen â€Annaâ€œ.</li>
        </ul>
        <p><strong>Callback bei AsynchronitÃ¤t: Beispiel mit setTimeout</strong></p>
        <div class="code-box">
            <code>
                setTimeout(() => {
                    console.log("Nach 2 Sekunden!");
                  }, 2000);
            </code>
        </div>
        <p>ğŸ‘‰ Die Funktion () => console.log(...) ist hier der Callback.
            Sie wird nach 2 Sekunden ausgefÃ¼hrt - also nicht sofort.</p>
    </li>
    <br>
    <br>

    <li class="textColor02">
        <span class="underline">Was ist ein Promise?</span>
        <p>Ein <b>Promise</b> ist ein JavaScript-Objekt, das dir <b>verspricht</b>, dass ein bestimmter Wert <b>jetzt noch nicht verfÃ¼gbar ist, aber spÃ¤ter kommen wird</b> - entweder erfolgreich oder mit Fehler.</p>
        <p><strong>ğŸ“¦ Drei ZustÃ¤nde eines Promise:</strong></p>
        <ol>
            <li><b>pending</b> - Die Aufgabe lÃ¤uft noch (z.B. Daten werden geladen)</li>
            <li><b>fulfilled</b> - Hat erfolgreich ein Ergebnis geliefert (resolve)</li>
            <li><b>rejected</b> - Ist mit einem Fehler fehlgeschlagen (reject)</li>
        </ol>
        <p><strong>Beispiel mit new Promise:</strong></p>
        <div class="code-box">
            <code>
                const myPromise = new Promise((resolve, reject) => {
                    const success = true;
                  
                    if (success) {
                      resolve("ğŸ‰ Hat geklappt!");
                    } else {
                      reject("âŒ Ein Fehler ist passiert!");
                    }
                  });
                  
                  myPromise
                    .then(result => {
                      console.log("Erfolg:", result);
                    })
                    .catch(error => {
                      console.log("Fehler:", error);
                    });
            </code>
        </div>
        <p>ğŸ’¡ErklÃ¤rung:</p>
        <ul>
            <li>resolve(...) â†’ wird aufgerufen, wenn alles klappt âœ…</li>
            <li>reject(...) â†’ wird aufgerufen, wenn ein Fehler passiert âŒ</li>
            <li>.then(...) â†’ fÃ¤ngt das Erfolgsergebnis ab</li>
            <li>.catch(...) â†’ fÃ¤ngt den Fehler ab</li>
        </ul>
    </li>
    <br>
    <br>

    <li class="textColor02">
        <span class="underline">Wie erstelle ich ein Promise?</span>
        <p><strong>Promise erstellen - Grundstruktur</strong></p>
        <div class="code-box">
            <code>
                const myPromise = new Promise((resolve, reject) => {
                    // async Aufgabe hier ausfÃ¼hren (z.B. laden, warten, prÃ¼fen)

                    // Beispiel: Erfolg
                    resolve("Alles hat geklappt!");

                    // Oder: Fehler
                    // reject("Es ist etwas schiefgelaufen.");
                  });
            </code>
        </div>
        <p>ğŸ’¡ErklÃ¤rung:</p>
        <ul>
            <li>new Promise(...) erzeugt ein neues Promise-Objekt.</li>
            <li>Die Funktion, die du Ã¼bergibst, erhÃ¤lt zwei Funktionen:</li>
            <li>resolve(value) â†’ Aufruf bei Erfolg âœ…</li>
            <li>reject(error) â†’ Aufruf bei Fehler âŒ</li>
        </ul>
    </li>
    <br>
    <br>


